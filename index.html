<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dictation Master</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Roboto+Mono:wght@500&display=swap');

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f0f4f8;
            height: 100vh;
            overflow: hidden;
            user-select: none;
        }

        .mono {
            font-family: 'Roboto Mono', monospace;
        }

        .word-wrapper {
            display: inline-flex;
            white-space: nowrap;
            margin: 0 0.85rem;
        }

        .char-slot {
            display: inline-block;
            width: 1.2rem;
            text-align: center;
            margin: 0 1px;
            position: relative;
        }

        .char-masked {
            color: transparent;
            border-bottom: 2px solid #cbd5e1;
        }

        .cursor {
            border-bottom: 3px solid #3b82f6 !important;
            animation: blink 0.8s infinite;
        }

        @keyframes blink {
            0%, 100% { border-color: #3b82f6; }
            50% { border-color: transparent; }
        }

        .char-correct { 
            color: #10b981;
            border-bottom: 2px solid transparent;
        }
        
        .char-hint { 
            color: #ef4444;
            border-bottom: 2px solid transparent;
        }

        .char-static {
            border-bottom: 2px solid transparent;
        }

        .correct-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 50;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .correct-circle {
            width: 200px;
            height: 200px;
            border: 15px solid #ef4444;
            border-radius: 50%;
            transform: scale(0.5);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .show-overlay { opacity: 1; }
        .show-overlay .correct-circle { transform: scale(1.2); }

        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #translationDisplay {
            transition: opacity 0.3s, transform 0.3s;
        }

        .rank-bounce {
            animation: bounce 0.6s infinite alternate cubic-bezier(0.455, 0.03, 0.515, 0.955);
        }
        @keyframes bounce {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }

        .illustration-container svg {
            width: 120px;
            height: 120px;
            margin-bottom: 1rem;
        }

        .review-list::-webkit-scrollbar {
            width: 6px;
        }
        .review-list::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .review-list::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }
    </style>
</head>
<body class="flex items-center justify-center">

    <div id="app" class="w-full max-w-2xl bg-white shadow-2xl rounded-3xl overflow-hidden relative">
        
        <div id="successOverlay" class="correct-overlay">
            <div class="correct-circle"></div>
        </div>

        <!-- 1. ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ -->
        <div id="screenStart" class="p-12 text-center fade-in">
            <h1 class="text-4xl font-bold text-blue-600 mb-4">Dictation Master</h1>
            <p class="text-gray-600 mb-8">é›£æ˜“åº¦ã‚’é¸ã‚“ã§æŒ‘æˆ¦ï¼<br>æœ€é«˜ãƒ©ãƒ³ã‚¯ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚</p>
            
            <div class="flex flex-col gap-4 max-w-xs mx-auto">
                <button onclick="game.start('junior')" class="bg-green-500 hover:bg-green-600 text-white text-xl font-bold py-4 px-8 rounded-2xl transition transform hover:scale-105 shadow-md">
                    ä¸­å­¦ç”Ÿãƒ¬ãƒ™ãƒ«
                </button>
                <button onclick="game.start('senior')" class="bg-orange-500 hover:bg-orange-600 text-white text-xl font-bold py-4 px-8 rounded-2xl transition transform hover:scale-105 shadow-md">
                    é«˜æ ¡ç”Ÿãƒ¬ãƒ™ãƒ«
                </button>
                <button onclick="game.start('toeic')" class="bg-indigo-600 hover:bg-indigo-700 text-white text-xl font-bold py-4 px-8 rounded-2xl transition transform hover:scale-105 shadow-md">
                    TOEICå¯¾ç­–
                </button>
            </div>
        </div>

        <!-- 2. ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¤ç”»é¢ -->
        <div id="screenPlay" class="hidden p-8 fade-in flex flex-col h-[550px]">
            <div class="flex justify-between items-center mb-6">
                <div class="flex flex-col">
                    <div id="levelBadge" class="text-[10px] font-bold px-2 py-0.5 rounded-full w-fit mb-1 uppercase tracking-tighter">LEVEL</div>
                    <div class="text-sm font-bold text-gray-400 uppercase tracking-widest">
                        Progress: <span id="progressText" class="text-blue-600 text-lg">1 / 5</span>
                    </div>
                </div>
                <button onclick="audioManager.replaySentence()" class="flex items-center gap-2 text-blue-500 hover:text-blue-700 font-bold transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                    </svg>
                    ã‚‚ã†ä¸€åº¦è´ã
                </button>
            </div>

            <div class="bg-slate-50 border-2 border-slate-100 rounded-2xl p-8 mb-4 text-center flex-grow flex flex-col items-center justify-center gap-6 overflow-hidden">
                <div id="sentenceDisplay" class="text-2xl mono leading-relaxed tracking-wider select-none flex flex-wrap justify-center gap-y-4">
                </div>
                <div id="translationDisplay" class="opacity-0 transform translate-y-2 text-lg font-bold text-blue-600 border-t border-slate-200 pt-6 w-full">
                </div>
            </div>

            <div class="flex flex-col items-center gap-4 mt-auto">
                <button id="hintBtn" onclick="game.useHint()" class="bg-orange-100 hover:bg-orange-200 text-orange-600 font-bold py-3 px-8 rounded-xl transition flex items-center gap-2">
                    <span>ğŸ’¡ 1æ–‡å­—ãƒ’ãƒ³ãƒˆ</span>
                </button>
                <p class="text-xs text-gray-400 italic">ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>
            </div>
        </div>

        <!-- 3. ãƒªã‚¶ãƒ«ãƒˆç”»é¢ -->
        <div id="screenResult" class="hidden p-8 text-center fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">çµæœç™ºè¡¨</h2>
            
            <div id="rankContainer" class="mb-4 flex flex-col items-center justify-center min-h-[220px]">
                <div id="rankIllustration" class="illustration-container"></div>
                <div id="rankLabel" class="font-black italic tracking-tighter text-6xl">Sãƒ©ãƒ³ã‚¯</div>
                <div id="rankMessage" class="text-lg font-bold text-gray-500 mt-2">ç´ æ™´ã‚‰ã—ã„ãƒªã‚¹ãƒ‹ãƒ³ã‚°åŠ›ã§ã™ï¼</div>
            </div>

            <div class="bg-gray-50 rounded-2xl p-6 mb-8 inline-block min-w-[320px] text-left border border-gray-100">
                <div class="flex justify-between mb-2 text-sm">
                    <span class="text-gray-500">ãƒŸã‚¹ã‚¿ã‚¤ãƒ—å›æ•°</span>
                    <span id="statMiss" class="font-bold text-gray-800">0 å›</span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-500">ãƒ’ãƒ³ãƒˆä½¿ç”¨å›æ•°</span>
                    <span id="statHint" class="font-bold text-gray-800">0 å›</span>
                </div>
                <hr class="my-3 border-gray-200">
                <div class="flex justify-between items-center">
                    <span class="font-bold text-gray-500 uppercase tracking-widest text-[10px]">Final Score</span>
                    <span id="statScore" class="font-black text-blue-600 text-3xl">100</span>
                </div>
            </div>

            <div class="flex flex-col gap-3 items-center">
                <div class="flex gap-4 justify-center w-full">
                    <button onclick="game.start(game.currentLevel)" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-2xl transition shadow-lg transform hover:-translate-y-1 flex-1">
                        ã‚‚ã†ä¸€åº¦
                    </button>
                    <button onclick="game.showReview()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-2xl transition shadow-lg transform hover:-translate-y-1 flex-1">
                        å•é¡Œã‚’æŒ¯ã‚Šè¿”ã‚‹
                    </button>
                </div>
                <button onclick="game.init()" class="text-gray-400 font-bold py-2 px-8 rounded-2xl transition hover:text-gray-600">
                    ãƒ¬ãƒ™ãƒ«é¸æŠã¸
                </button>
            </div>
        </div>

        <!-- 4. æŒ¯ã‚Šè¿”ã‚Šç”»é¢ -->
        <div id="screenReview" class="hidden p-8 fade-in flex flex-col h-[550px]">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">ä»Šå›ã®å•é¡Œ</h2>
            <div id="reviewList" class="flex-grow overflow-y-auto space-y-4 pr-2 mb-6 review-list">
            </div>
            <div class="flex flex-col gap-3 items-center mt-auto">
                <div class="flex gap-4 justify-center w-full">
                    <button onclick="game.start(game.currentLevel)" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-2xl transition shadow-lg transform hover:-translate-y-1 flex-1">
                        ã‚‚ã†ä¸€åº¦
                    </button>
                    <button onclick="game.showScreen('screenResult')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-8 rounded-2xl transition flex-1">
                        çµæœã«æˆ»ã‚‹
                    </button>
                </div>
                <button onclick="game.init()" class="text-gray-400 font-bold py-2 px-8 rounded-2xl transition hover:text-gray-600">
                    ãƒ¬ãƒ™ãƒ«é¸æŠã¸
                </button>
            </div>
        </div>
    </div>

    <input type="text" id="hiddenInput" class="opacity-0 absolute -z-10" autocomplete="off" autogrow="off">

    <script>
        const MASTER_DATA = {
            junior: [
                { en: "I have a pen.", ja: "ç§ã¯ãƒšãƒ³ã‚’æŒã£ã¦ã„ã¾ã™ã€‚" },
                { en: "The apple is red.", ja: "ãã®ãƒªãƒ³ã‚´ã¯èµ¤ã„ã§ã™ã€‚" },
                { en: "Where is the station?", ja: "é§…ã¯ã©ã“ã§ã™ã‹ï¼Ÿ" },
                { en: "It's a beautiful day.", ja: "ç´ æ™´ã‚‰ã—ã„å¤©æ°—ã§ã™ã­ã€‚" },
                { en: "Nice to meet you.", ja: "ã¯ã˜ã‚ã¾ã—ã¦ã€‚" },
                { en: "How are you doing today?", ja: "ä»Šæ—¥ã®èª¿å­ã¯ã©ã†ã§ã™ã‹ï¼Ÿ" },
                { en: "I like playing soccer.", ja: "ç§ã¯ã‚µãƒƒã‚«ãƒ¼ã‚’ã™ã‚‹ã“ã¨ãŒå¥½ãã§ã™ã€‚" },
                { en: "She is a doctor.", ja: "å½¼å¥³ã¯åŒ»è€…ã§ã™ã€‚" },
                { en: "We went to the park.", ja: "ç§ãŸã¡ã¯å…¬åœ’ã«è¡Œãã¾ã—ãŸã€‚" },
                { en: "They are my friends.", ja: "å½¼ã‚‰ã¯ç§ã®å‹é”ã§ã™ã€‚" },
                { en: "What time is it now?", ja: "ä»Šä½•æ™‚ã§ã™ã‹ï¼Ÿ" },
                { en: "I am hungry.", ja: "ãŠè…¹ãŒç©ºãã¾ã—ãŸã€‚" },
                { en: "He speaks English well.", ja: "å½¼ã¯ä¸Šæ‰‹ã«è‹±èªã‚’è©±ã—ã¾ã™ã€‚" },
                { en: "Do you like coffee?", ja: "ã‚³ãƒ¼ãƒ’ãƒ¼ã¯å¥½ãã§ã™ã‹ï¼Ÿ" },
                { en: "This is my favorite book.", ja: "ã“ã‚Œã¯ç§ã®ãŠæ°—ã«å…¥ã‚Šã®æœ¬ã§ã™ã€‚" },
                { en: "Open the window please.", ja: "çª“ã‚’é–‹ã‘ã¦ãã ã•ã„ã€‚" },
                { en: "I live in Tokyo.", ja: "ç§ã¯æ±äº¬ã«ä½ã‚“ã§ã„ã¾ã™ã€‚" },
                { en: "Wait a minute.", ja: "ã¡ã‚‡ã£ã¨å¾…ã£ã¦ãã ã•ã„ã€‚" },
                { en: "See you tomorrow.", ja: "ã¾ãŸæ˜æ—¥ä¼šã„ã¾ã—ã‚‡ã†ã€‚" },
                { en: "Good morning.", ja: "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚" },
                { en: "Take care of yourself.", ja: "ãŠå¤§äº‹ã«ã€‚" },
                { en: "I'm sorry for being late.", ja: "é…ã‚Œã¦ã™ã¿ã¾ã›ã‚“ã€‚" },
                { en: "No problem at all.", ja: "å…¨ãå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚" },
                { en: "Let's go home.", ja: "å®¶ã«å¸°ã‚Šã¾ã—ã‚‡ã†ã€‚" },
                { en: "The sky is blue.", ja: "ç©ºã¯é’ã„ã§ã™ã€‚" },
                { en: "My mother is a good cook.", ja: "ç§ã®æ¯ã¯æ–™ç†ãŒä¸Šæ‰‹ã§ã™ã€‚" },
                { en: "I want to travel abroad.", ja: "æµ·å¤–æ—…è¡Œã«è¡ŒããŸã„ã§ã™ã€‚" },
                { en: "It's getting cold.", ja: "å¯’ããªã£ã¦ãã¾ã—ãŸã€‚" },
                { en: "Can you help me?", ja: "æ‰‹ä¼ã£ã¦ãã‚Œã¾ã™ã‹ï¼Ÿ" },
                { en: "Where do you live?", ja: "ã©ã“ã«ä½ã‚“ã§ã„ã¾ã™ã‹ï¼Ÿ" },
                { en: "I forgot my umbrella.", ja: "å‚˜ã‚’å¿˜ã‚Œã¾ã—ãŸã€‚" },
                { en: "The movie was interesting.", ja: "ãã®æ˜ ç”»ã¯é¢ç™½ã‹ã£ãŸã§ã™ã€‚" },
                { en: "I have two sisters.", ja: "ç§ã«ã¯2äººã®å§‰å¦¹ãŒã„ã¾ã™ã€‚" },
                { en: "He is very kind.", ja: "å½¼ã¯ã¨ã¦ã‚‚è¦ªåˆ‡ã§ã™ã€‚" },
                { en: "I'm busy right now.", ja: "ä»Šã€å¿™ã—ã„ã§ã™ã€‚" },
                { en: "What is your name?", ja: "åå‰ã¯ä½•ã§ã™ã‹ï¼Ÿ" },
                { en: "I like listening to music.", ja: "éŸ³æ¥½ã‚’è´ãã®ãŒå¥½ãã§ã™ã€‚" },
                { en: "It's raining outside.", ja: "å¤–ã¯é›¨ãŒé™ã£ã¦ã„ã¾ã™ã€‚" },
                { en: "Stay at home.", ja: "å®¶ã«ã„ã¦ãã ã•ã„ã€‚" },
                { en: "I don't know.", ja: "ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚" },
                { en: "That's a good idea.", ja: "ãã‚Œã¯ã„ã„è€ƒãˆã§ã™ã­ã€‚" },
                { en: "I'm looking for a job.", ja: "ä»•äº‹ã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Happy birthday to you.", ja: "èª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ã€‚" },
                { en: "Keep it up.", ja: "ãã®èª¿å­ã§é ‘å¼µã£ã¦ã€‚" },
                { en: "Never give up.", ja: "æ±ºã—ã¦ã‚ãã‚‰ã‚ãªã„ã§ã€‚" },
                { en: "I'm so proud of you.", ja: "ã‚ãªãŸã®ã“ã¨ã‚’ã¨ã¦ã‚‚èª‡ã‚Šã«æ€ã„ã¾ã™ã€‚" },
                { en: "You can do it.", ja: "ã‚ãªãŸãªã‚‰ã§ãã¾ã™ã€‚" },
                { en: "Everything will be fine.", ja: "ã™ã¹ã¦ä¸Šæ‰‹ãã„ãã¾ã™ã‚ˆã€‚" },
                { en: "Just a moment.", ja: "å°‘ã€…ãŠå¾…ã¡ãã ã•ã„ã€‚" },
                { en: "Believe in yourself.", ja: "è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ã€‚" },
                { en: "Time flies so fast.", ja: "æ™‚é–“ã¯çµŒã¤ã®ãŒæ—©ã„ã€‚" },
                { en: "Better late than never.", ja: "é…ã‚Œã¦ã‚‚ã‚„ã‚‰ãªã„ã‚ˆã‚Šã¯ã¾ã—ã ã€‚" },
                { en: "It depends on you.", ja: "ã‚ãªãŸæ¬¡ç¬¬ã§ã™ã€‚" },
                { en: "I agree with you.", ja: "åŒæ„ã—ã¾ã™ã€‚" },
                { en: "Excuse me.", ja: "ã™ã¿ã¾ã›ã‚“ã€‚" },
                { en: "Thank you very much.", ja: "ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚" },
                { en: "You're welcome.", ja: "ã©ã†ã„ãŸã—ã¾ã—ã¦ã€‚" },
                { en: "Long time no see.", ja: "ãŠä¹…ã—ã¶ã‚Šã§ã™ã€‚" },
                { en: "Tell me the truth.", ja: "æœ¬å½“ã®ã“ã¨ã‚’æ•™ãˆã¦ã€‚" },
                { en: "I'm tired today.", ja: "ç–²ã‚Œã¾ã—ãŸã€‚" },
                { en: "Lunch was delicious.", ja: "æ˜¼é£Ÿã¯ç¾å‘³ã—ã‹ã£ãŸã§ã™ã€‚" },
                { en: "What happened?", ja: "ä½•ãŒèµ·ããŸã®ã§ã™ã‹ï¼Ÿ" },
                { en: "Don't worry about it.", ja: "å¿ƒé…ã—ãªã„ã§ã€‚" },
                { en: "Be careful.", ja: "æ°—ã‚’ã¤ã‘ã¦ã€‚" },
                { en: "I'm happy to hear that.", ja: "ãã‚Œã‚’èã„ã¦å¬‰ã—ã„ã§ã™ã€‚" },
                { en: "Is anyone here?", ja: "èª°ã‹ã„ã¾ã™ã‹ï¼Ÿ" },
                { en: "Where are you going?", ja: "ã©ã“ã¸è¡Œãã®ã§ã™ã‹ï¼Ÿ" },
                { en: "I need some help.", ja: "åŠ©ã‘ãŒå¿…è¦ã§ã™ã€‚" },
                { en: "That sounds great.", ja: "ãã‚Œã¯ç´ æ™´ã‚‰ã—ã„ã§ã™ã­ã€‚" },
                { en: "Can I ask a question?", ja: "è³ªå•ã—ã¦ã‚‚ã„ã„ã§ã™ã‹ï¼Ÿ" },
                { en: "Whose bag is this?", ja: "ã“ã‚Œã¯èª°ã®ãƒãƒƒã‚°ã§ã™ã‹ï¼Ÿ" },
                { en: "I can't believe it.", ja: "ä¿¡ã˜ã‚‰ã‚Œã¾ã›ã‚“ã€‚" },
                { en: "Spring has come.", ja: "æ˜¥ãŒæ¥ã¾ã—ãŸã€‚" },
                { en: "I'll be back soon.", ja: "ã™ãã«æˆ»ã‚Šã¾ã™ã€‚" },
                { en: "Call me later.", ja: "ã‚ã¨ã§é›»è©±ã—ã¦ã€‚" },
                { en: "Good luck with that.", ja: "é ‘å¼µã£ã¦ã­ã€‚" },
                { en: "I'm lost.", ja: "é“ã«è¿·ã„ã¾ã—ãŸã€‚" },
                { en: "How much is this?", ja: "ã“ã‚Œã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿ" },
                { en: "It's too expensive.", ja: "é«˜ã™ãã¾ã™ã€‚" },
                { en: "I'll take it.", ja: "ã“ã‚Œã«ã—ã¾ã™ã€‚" },
                { en: "Do you have a reservation?", ja: "äºˆç´„ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ" },
                { en: "Check please.", ja: "ãŠä¼šè¨ˆã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚" },
                { en: "Follow me.", ja: "ã¤ã„ã¦ãã¦ãã ã•ã„ã€‚" },
                { en: "Sit down please.", ja: "åº§ã£ã¦ãã ã•ã„ã€‚" },
                { en: "Stand up.", ja: "ç«‹ã£ã¦ãã ã•ã„ã€‚" },
                { en: "Turn left at the corner.", ja: "è§’ã‚’å·¦ã«æ›²ãŒã£ã¦ãã ã•ã„ã€‚" },
                { en: "Go straight ahead.", ja: "çœŸã£ç›´ãé€²ã‚“ã§ãã ã•ã„ã€‚" },
                { en: "It's near here.", ja: "ã“ã®è¿‘ãã§ã™ã€‚" },
                { en: "I'm looking forward to it.", ja: "æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Have a nice trip.", ja: "è‰¯ã„æ—…ã‚’ã€‚" },
                { en: "Dream big.", ja: "å¤§ããªå¤¢ã‚’æŒã£ã¦ã€‚" },
                { en: "Work hard.", ja: "ä¸€ç”Ÿæ‡¸å‘½åƒã„ã¦ã€‚" },
                { en: "Smile more.", ja: "ã‚‚ã£ã¨ç¬‘ã£ã¦ã€‚" },
                { en: "Eat well.", ja: "ã‚ˆãé£Ÿã¹ã¦ã€‚" },
                { en: "Sleep enough.", ja: "ååˆ†ç¡çœ ã‚’ã¨ã£ã¦ã€‚" },
                { en: "Read books every day.", ja: "æ¯æ—¥æœ¬ã‚’èª­ã‚“ã§ã€‚" },
                { en: "Learn something new.", ja: "ä½•ã‹æ–°ã—ã„ã“ã¨ã‚’å­¦ã‚“ã§ã€‚" },
                { en: "Peace of mind.", ja: "å¿ƒã®å¹³å’Œã€‚" },
                { en: "Health is wealth.", ja: "å¥åº·ã¯å¯Œãªã‚Šã€‚" },
                { en: "Life is a journey.", ja: "äººç”Ÿã¯æ—…ã ã€‚" }
            ],
            senior: [
                { en: "I appreciate your kind assistance.", ja: "ã”è¦ªåˆ‡ãªæ´åŠ©ã«æ„Ÿè¬ã—ã¾ã™ã€‚" },
                { en: "The environmental issue is becoming serious.", ja: "ç’°å¢ƒå•é¡Œã¯æ·±åˆ»ã«ãªã‚Šã¤ã¤ã‚ã‚Šã¾ã™ã€‚" },
                { en: "I should have taken his advice.", ja: "å½¼ã®åŠ©è¨€ã‚’èã„ã¦ãŠãã¹ãã§ã—ãŸã€‚" },
                { en: "It is important to protect our nature.", ja: "è‡ªç„¶ã‚’å®ˆã‚‹ã“ã¨ã¯é‡è¦ã§ã™ã€‚" },
                { en: "Technology has changed our lives significantly.", ja: "æŠ€è¡“ã¯ç§ãŸã¡ã®ç”Ÿæ´»ã‚’è‘—ã—ãå¤‰ãˆã¾ã—ãŸã€‚" },
                { en: "Could you explain the details again?", ja: "è©³ç´°ã‚’ã‚‚ã†ä¸€åº¦èª¬æ˜ã—ã¦ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿ" },
                { en: "I am interested in learning new languages.", ja: "æ–°ã—ã„è¨€èªã‚’å­¦ã¶ã“ã¨ã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "She is one of the most famous writers.", ja: "å½¼å¥³ã¯æœ€ã‚‚æœ‰åãªä½œå®¶ã®ä¸€äººã§ã™ã€‚" },
                { en: "The government should take immediate action.", ja: "æ”¿åºœã¯å³åº§ã«è¡Œå‹•ã‚’èµ·ã“ã™ã¹ãã§ã™ã€‚" },
                { en: "Experience is the best teacher in life.", ja: "çµŒé¨“ã¯äººç”Ÿã«ãŠã„ã¦æœ€é«˜ã®æ•™å¸«ã§ã™ã€‚" },
                { en: "I wonder why he didn't attend the meeting.", ja: "ãªãœå½¼ãŒæ¬ å¸­ã—ãŸã®ã‹ä¸æ€è­°ã§ã™ã€‚" },
                { en: "It is difficult to predict the future.", ja: "æœªæ¥ã‚’äºˆæ¸¬ã™ã‚‹ã“ã¨ã¯å›°é›£ã§ã™ã€‚" },
                { en: "He promised to come but he didn't show up.", ja: "ç´„æŸã—ãŸã®ã«å½¼ã¯ç¾ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚" },
                { en: "I am looking forward to seeing you soon.", ja: "ãŠä¼šã„ã§ãã‚‹ã®ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The movie reminded me of my childhood.", ja: "ãã®æ˜ ç”»ã§å­ä¾›æ™‚ä»£ã‚’æ€ã„å‡ºã—ã¾ã—ãŸã€‚" },
                { en: "Success depends on your continuous effort.", ja: "æˆåŠŸã¯ç¶™ç¶šçš„ãªåŠªåŠ›ã«ã‹ã‹ã£ã¦ã„ã¾ã™ã€‚" },
                { en: "I'll let you know the result tomorrow.", ja: "æ˜æ—¥ã€çµæœã‚’çŸ¥ã‚‰ã›ã¾ã™ã€‚" },
                { en: "We need to find a solution to this problem.", ja: "ã“ã®å•é¡Œã®è§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "Learning from mistakes is very important.", ja: "å¤±æ•—ã‹ã‚‰å­¦ã¶ã“ã¨ã¯éå¸¸ã«é‡è¦ã§ã™ã€‚" },
                { en: "I found it easy to solve the puzzle.", ja: "ãƒ‘ã‚ºãƒ«ã‚’è§£ãã®ã¯ç°¡å˜ã ã¨ã‚ã‹ã‚Šã¾ã—ãŸã€‚" },
                { en: "He has been living here for ten years.", ja: "å½¼ã¯ã“ã“ã«10å¹´é–“ä½ã‚“ã§ã„ã¾ã™ã€‚" },
                { en: "I want to know what happened last night.", ja: "æ˜¨å¤œä½•ãŒèµ·ããŸã®ã‹çŸ¥ã‚ŠãŸã„ã§ã™ã€‚" },
                { en: "Please keep in mind what I said.", ja: "ç§ãŒè¨€ã£ãŸã“ã¨ã‚’è¦šãˆã¦ãŠã„ã¦ãã ã•ã„ã€‚" },
                { en: "The information is available on the website.", ja: "æƒ…å ±ã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§å…¥æ‰‹å¯èƒ½ã§ã™ã€‚" },
                { en: "I cannot afford to buy such an expensive car.", ja: "ãã‚“ãªé«˜ã„è»Šã‚’è²·ã†ä½™è£•ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚" },
                { en: "They discussed the plan for the next project.", ja: "å½¼ã‚‰ã¯æ¬¡ã®è¨ˆç”»ã«ã¤ã„ã¦è­°è«–ã—ã¾ã—ãŸã€‚" },
                { en: "I feel like going for a walk.", ja: "æ•£æ­©ã«è¡ŒããŸã„æ°—åˆ†ã§ã™ã€‚" },
                { en: "The station is within walking distance.", ja: "é§…ã¯å¾’æ­©åœå†…ã«ã‚ã‚Šã¾ã™ã€‚" },
                { en: "I managed to finish the report on time.", ja: "ãªã‚“ã¨ã‹æ™‚é–“é€šã‚Šã«çµ‚ãˆã¾ã—ãŸã€‚" },
                { en: "Thank you for your cooperation.", ja: "ã”å”åŠ›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚" },
                { en: "He is capable of handling complex tasks.", ja: "å½¼ã¯è¤‡é›‘ãªä»•äº‹ã‚’ã“ãªã™èƒ½åŠ›ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "I am surprised at the sudden news.", ja: "çªç„¶ã®çŸ¥ã‚‰ã›ã«é©šã„ã¦ã„ã¾ã™ã€‚" },
                { en: "Could you do me a huge favor?", ja: "å¤§ããªé ¼ã¿ã‚’èã„ã¦ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿ" },
                { en: "I'm not used to speaking in public.", ja: "äººå‰ã§è©±ã™ã“ã¨ã«ã¯æ…£ã‚Œã¦ã„ã¾ã›ã‚“ã€‚" },
                { en: "The weather forecast says it will rain.", ja: "äºˆå ±ã§ã¯é›¨ãŒé™ã‚‹ã¨è¨€ã£ã¦ã„ã¾ã™ã€‚" },
                { en: "I have no idea what to do next.", ja: "æ¬¡ã«ä½•ã‚’ã™ã¹ãã‹å…¨ãã‚ã‹ã‚Šã¾ã›ã‚“ã€‚" },
                { en: "Education plays a key role in society.", ja: "æ•™è‚²ã¯ç¤¾ä¼šã«ãŠã„ã¦é‡è¦ãªå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚" },
                { en: "I am proud of my country's culture.", ja: "è‡ªå›½ã®æ–‡åŒ–ã‚’èª‡ã‚Šã«æ€ã£ã¦ã„ã¾ã™ã€‚" },
                { en: "We should respect each other's opinions.", ja: "ãŠäº’ã„ã®æ„è¦‹ã‚’å°Šé‡ã™ã¹ãã§ã™ã€‚" },
                { en: "The population of the city is increasing.", ja: "ãã®éƒ½å¸‚ã®äººå£ã¯å¢—åŠ ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "I have a lot of things to deal with.", ja: "å¯¾å‡¦ã™ã¹ãã“ã¨ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚" },
                { en: "He is responsible for the mistake.", ja: "å½¼ã«ãã®é–“é•ã„ã®è²¬ä»»ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "I am disappointed with the final result.", ja: "æœ€çµ‚çš„ãªçµæœã«å¤±æœ›ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Nature provides us with many resources.", ja: "è‡ªç„¶ã¯å¤šãã®è³‡æºã‚’æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚" },
                { en: "I'll wait until you are ready.", ja: "æº–å‚™ãŒã§ãã‚‹ã¾ã§å¾…ã¡ã¾ã™ã€‚" },
                { en: "The building was constructed long ago.", ja: "ãã®å»ºç‰©ã¯ãšã£ã¨å‰ã«å»ºã¦ã‚‰ã‚Œã¾ã—ãŸã€‚" },
                { en: "I'm sure that you will succeed.", ja: "ãã£ã¨æˆåŠŸã™ã‚‹ã¨ç¢ºä¿¡ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "He is known for his great leadership.", ja: "å½¼ã¯å„ªã‚ŒãŸæŒ‡å°åŠ›ã§çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚" },
                { en: "I have to prepare for the examination.", ja: "è©¦é¨“ã®æº–å‚™ã‚’ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚" },
                { en: "We had a lot of fun at the party.", ja: "ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã§ã¨ã¦ã‚‚æ¥½ã—ã¿ã¾ã—ãŸã€‚" },
                { en: "I feel comfortable in this room.", ja: "ã“ã®éƒ¨å±‹ã¯å±…å¿ƒåœ°ãŒè‰¯ã„ã§ã™ã€‚" },
                { en: "The lecture was quite informative.", ja: "è¬›ç¾©ã¯éå¸¸ã«ãŸã‚ã«ãªã‚Šã¾ã—ãŸã€‚" },
                { en: "I am confused by the complicated rules.", ja: "è¤‡é›‘ãªè¦å‰‡ã«æ··ä¹±ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Health is more valuable than money.", ja: "å¥åº·ã¯ãŠé‡‘ã‚ˆã‚Šã‚‚ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "I'm afraid I cannot attend the party.", ja: "æ®‹å¿µãªãŒã‚‰å‡ºå¸­ã§ãã¾ã›ã‚“ã€‚" },
                { en: "He recommended this book to me.", ja: "å½¼ã¯ã“ã®æœ¬ã‚’ç§ã«è–¦ã‚ã¾ã—ãŸã€‚" },
                { en: "I am satisfied with my current life.", ja: "ç¾åœ¨ã®ç”Ÿæ´»ã«æº€è¶³ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The news spread quickly through the town.", ja: "ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¯ç”ºä¸­ã«ã™ãã«åºƒã¾ã‚Šã¾ã—ãŸã€‚" },
                { en: "I want to improve my communication skills.", ja: "èƒ½åŠ›ã‚’å‘ä¸Šã•ã›ãŸã„ã§ã™ã€‚" },
                { en: "The restaurant is famous for its pizza.", ja: "ãã®åº—ã¯ãƒ”ã‚¶ã§æœ‰åã§ã™ã€‚" },
                { en: "I'm exhausted after a long day of work.", ja: "ä»•äº‹ã®ã‚ã¨ã§ç–²ã‚Œæœã¦ã„ã¦ã„ã¾ã™ã€‚" },
                { en: "She decided to study abroad next year.", ja: "æ¥å¹´ã€ç•™å­¦ã™ã‚‹ã“ã¨ã«æ±ºã‚ã¾ã—ãŸã€‚" },
                { en: "I am excited about the upcoming trip.", ja: "ä»Šåº¦ã®æ—…è¡Œã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "He apologized for his rude behavior.", ja: "å½¼ã¯å¤±ç¤¼ãªæŒ¯ã‚‹èˆã„ã‚’è¬ç½ªã—ã¾ã—ãŸã€‚" },
                { en: "The result was different from what I expected.", ja: "çµæœã¯æœŸå¾…ã¨ã¯é•ã„ã¾ã—ãŸã€‚" },
                { en: "I am confident in my ability.", ja: "è‡ªåˆ†ã®èƒ½åŠ›ã«è‡ªä¿¡ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "The museum is open to the public.", ja: "åšç‰©é¤¨ã¯ä¸€èˆ¬ã«å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚" },
                { en: "I'm grateful for your support.", ja: "ã‚ãªãŸã®ã‚µãƒãƒ¼ãƒˆã«æ„Ÿè¬ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "He is talented in many ways.", ja: "å½¼ã¯å¤šæ–¹é¢ã§æ‰èƒ½ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "I am curious about the secret.", ja: "ãã®ç§˜å¯†ã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "The plan was approved by the committee.", ja: "è¨ˆç”»ã¯å§”å“¡ä¼šã§æ‰¿èªã•ã‚Œã¾ã—ãŸã€‚" },
                { en: "I want to achieve my goals.", ja: "ç›®æ¨™ã‚’é”æˆã—ãŸã„ã§ã™ã€‚" },
                { en: "The view from the top is breathtaking.", ja: "å±±é ‚ã‹ã‚‰ã®æ™¯è‰²ã¯æœ€é«˜ã§ã™ã€‚" },
                { en: "I'm worried about the global warming.", ja: "åœ°çƒæ¸©æš–åŒ–ã‚’å¿ƒé…ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "He escaped from the danger.", ja: "å½¼ã¯å±é™ºã‹ã‚‰é€ƒã‚Œã¾ã—ãŸã€‚" },
                { en: "I am determined to pass the test.", ja: "åˆæ ¼ã™ã‚‹ã¨æ±ºå¿ƒã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The project requires a lot of patience.", ja: "å¿è€ãŒå¿…è¦ã§ã™ã€‚" },
                { en: "I'm impressed by your performance.", ja: "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«æ„Ÿå‹•ã—ã¾ã—ãŸã€‚" },
                { en: "He suggested going to the beach.", ja: "ãƒ“ãƒ¼ãƒã«è¡Œãã“ã¨ã‚’ææ¡ˆã—ã¾ã—ãŸã€‚" },
                { en: "I am busy preparing for the festival.", ja: "æº–å‚™ã§å¿™ã—ã„ã§ã™ã€‚" },
                { en: "The situation is quite complicated.", ja: "çŠ¶æ³ã¯ã‹ãªã‚Šè¤‡é›‘ã§ã™ã€‚" },
                { en: "I'm addicted to this mobile game.", ja: "ã“ã®ã‚²ãƒ¼ãƒ ã«å¤¢ä¸­ã§ã™ã€‚" },
                { en: "She reminded me to call my mother.", ja: "æ¯ã«é›»è©±ã™ã‚‹ã‚ˆã†æ€ã„å‡ºã•ã›ã¾ã—ãŸã€‚" },
                { en: "I am aware of the risk.", ja: "ãƒªã‚¹ã‚¯ã¯æ‰¿çŸ¥ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The company is growing rapidly.", ja: "ä¼šç¤¾ã¯æ€¥é€Ÿã«æˆé•·ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "I'm involved in the local community.", ja: "åœ°åŸŸã«é–¢ã‚ã£ã¦ã„ã¾ã™ã€‚" },
                { en: "He is generous to everyone.", ja: "å½¼ã¯èª°ã«å¯¾ã—ã¦ã‚‚å¯›å¤§ã§ã™ã€‚" },
                { en: "I am addicted to drinking coffee.", ja: "ç¿’æ…£ã«ãªã£ã¦ã„ã¾ã™ã€‚" },
                { en: "The story has a happy ending.", ja: "ç‰©èªã¯ãƒãƒƒãƒ”ãƒ¼ã‚¨ãƒ³ãƒ‰ã§ã™ã€‚" },
                { en: "I'm used to working under pressure.", ja: "ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã«ã¯æ…£ã‚Œã¦ã„ã¾ã™ã€‚" },
                { en: "The economy is showing signs of recovery.", ja: "çµŒæ¸ˆã¯å›å¾©ã®å…†ã—ã‚’è¦‹ã›ã¦ã„ã¾ã™ã€‚" },
                { en: "I want to expand my business.", ja: "ãƒ“ã‚¸ãƒã‚¹ã‚’æ‹¡å¤§ã—ãŸã„ã§ã™ã€‚" },
                { en: "She is dedicated to her work.", ja: "å½¼å¥³ã¯ä»•äº‹ã«çŒ®èº«çš„ã§ã™ã€‚" },
                { en: "I am influenced by my favorite teacher.", ja: "å…ˆç”Ÿã«å½±éŸ¿ã‚’å—ã‘ã¦ã„ã¾ã™ã€‚" },
                { en: "The truth will be revealed eventually.", ja: "çœŸå®Ÿã¯ã„ã¤ã‹æ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚" },
                { en: "I'm concerned about your health.", ja: "å¥åº·ã‚’å¿ƒé…ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "He is honest and reliable.", ja: "å½¼ã¯æ­£ç›´ã§ä¿¡é ¼ã§ãã¾ã™ã€‚" },
                { en: "I am fascinated by the universe.", ja: "ç§ã¯å®‡å®™ã«é­…äº†ã•ã‚Œã¦ã„ã¾ã™ã€‚" },
                { en: "The discovery changed history.", ja: "ç™ºè¦‹ã¯æ­´å²ã‚’å¤‰ãˆã¾ã—ãŸã€‚" },
                { en: "Life is full of surprises.", ja: "äººç”Ÿã¯é©šãã«æº€ã¡ã¦ã„ã‚‹ã€‚" },
                { en: "Keep your eyes on the prize.", ja: "ç›®æ¨™ã‹ã‚‰ç›®ã‚’ãã‚‰ã•ãªã„ã§ã€‚" }
            ],
            toeic: [
                { en: "The annual report is available on the website.", ja: "å¹´æ¬¡å ±å‘Šæ›¸ã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§å…¥æ‰‹å¯èƒ½ã§ã™ã€‚" },
                { en: "Please confirm your attendance by Friday.", ja: "é‡‘æ›œæ—¥ã¾ã§ã«å‡ºå¸­ã®ç¢ºèªã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚" },
                { en: "The meeting has been rescheduled for next Monday.", ja: "ä¼šè­°ã¯æ¥é€±ã®æœˆæ›œæ—¥ã«å»¶æœŸã•ã‚Œã¾ã—ãŸã€‚" },
                { en: "We offer a wide range of financial services.", ja: "å½“ç¤¾ã¯å¹…åºƒã„é‡‘èã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "I'm writing to follow up on our conversation.", ja: "å…ˆæ—¥ã®è©±ã—åˆã„ã®ä»¶ã§ã”é€£çµ¡ã„ãŸã—ã¾ã—ãŸã€‚" },
                { en: "The marketing team is developing a new campaign.", ja: "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒãƒ¼ãƒ ã¯æ–°ã—ã„ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã‚’é–‹ç™ºä¸­ã§ã™ã€‚" },
                { en: "Could you please provide us with a quote?", ja: "è¦‹ç©ã‚‚ã‚Šã‚’ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿ" },
                { en: "The presentation will begin in ten minutes.", ja: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯10åˆ†å¾Œã«å§‹ã¾ã‚Šã¾ã™ã€‚" },
                { en: "I would like to apply for the position.", ja: "ãã®å½¹è·ã«å¿œå‹Ÿã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚" },
                { en: "The deadline for the project is approaching.", ja: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç· ã‚åˆ‡ã‚ŠãŒè¿‘ã¥ã„ã¦ã„ã¾ã™ã€‚" },
                { en: "We need to reduce our operating costs.", ja: "ç§ãŸã¡ã¯é‹å–¶ã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "The product received positive reviews from customers.", ja: "ãã®è£½å“ã¯é¡§å®¢ã‹ã‚‰å¥½æ„çš„ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å—ã‘ã¾ã—ãŸã€‚" },
                { en: "Thank you for your prompt response.", ja: "è¿…é€Ÿãªã”å¯¾å¿œã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚" },
                { en: "The branch office is located in the city center.", ja: "æ”¯åº—ã¯å¸‚ã®ä¸­å¿ƒéƒ¨ã«ä½ç½®ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "He was promoted to sales manager last month.", ja: "å½¼ã¯å…ˆæœˆã€å–¶æ¥­ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«æ˜‡é€²ã—ã¾ã—ãŸã€‚" },
                { en: "Our company is expanding into the Asian market.", ja: "å½“ç¤¾ã¯ã‚¢ã‚¸ã‚¢å¸‚å ´ã¸é€²å‡ºã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Please make sure to sign the contract.", ja: "å¿…ãšå¥‘ç´„æ›¸ã«ç½²åã—ã¦ãã ã•ã„ã€‚" },
                { en: "We are committed to providing high quality service.", ja: "å½“ç¤¾ã¯é«˜å“è³ªãªã‚µãƒ¼ãƒ“ã‚¹ã®æä¾›ã«åŠªã‚ã¦ã„ã¾ã™ã€‚" },
                { en: "The flight was delayed due to bad weather.", ja: "æ‚ªå¤©å€™ã®ãŸã‚ãƒ•ãƒ©ã‚¤ãƒˆãŒé…ã‚Œã¾ã—ãŸã€‚" },
                { en: "I have attached the document for your review.", ja: "ã”ç¢ºèªç”¨ã«è³‡æ–™ã‚’æ·»ä»˜ã„ãŸã—ã¾ã—ãŸã€‚" },
                { en: "The workshop will be held in the main conference room.", ja: "ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã¯ãƒ¡ã‚¤ãƒ³ä¼šè­°å®¤ã§é–‹å‚¬ã•ã‚Œã¾ã™ã€‚" },
                { en: "We are looking for a highly motivated candidate.", ja: "æ„æ¬²ã®é«˜ã„å€™è£œè€…ã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Our inventory level is currently very low.", ja: "ç¾åœ¨ã®åœ¨åº«ãƒ¬ãƒ™ãƒ«ã¯éå¸¸ã«ä½ã„ã§ã™ã€‚" },
                { en: "The CEO announced a new strategic plan.", ja: "CEOã¯æ–°ã—ã„æˆ¦ç•¥è¨ˆç”»ã‚’ç™ºè¡¨ã—ã¾ã—ãŸã€‚" },
                { en: "Please notify us if there are any changes.", ja: "å¤‰æ›´ãŒã‚ã‚‹å ´åˆã¯ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚" },
                { en: "The merger will take place early next year.", ja: "åˆä½µã¯æ¥å¹´åˆã‚ã«è¡Œã‚ã‚Œã¾ã™ã€‚" },
                { en: "We have decided to outsource the project.", ja: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤–éƒ¨å§”è¨—ã™ã‚‹ã“ã¨ã«æ±ºã‚ã¾ã—ãŸã€‚" },
                { en: "I look forward to collaborating with you.", ja: "ã‚ãªãŸã¨å”åŠ›ã§ãã‚‹ã®ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The training session is mandatory for all staff.", ja: "ç ”ä¿®ä¼šã¯å…¨ã‚¹ã‚¿ãƒƒãƒ•å¿…é ˆã§ã™ã€‚" },
                { en: "We offer a competitive salary and benefits package.", ja: "å½“ç¤¾ã¯ç«¶äº‰åŠ›ã®ã‚ã‚‹çµ¦ä¸ã¨ç¦åˆ©åšç”Ÿã‚’æä¾›ã—ã¾ã™ã€‚" },
                { en: "The technician is repairing the copier.", ja: "æŠ€è¡“è€…ãŒã‚³ãƒ”ãƒ¼æ©Ÿã‚’ä¿®ç†ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "I'd like to check out of my room now.", ja: "ä»Šã€ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ãŸã„ã®ã§ã™ãŒã€‚" },
                { en: "The lobby is undergoing renovation.", ja: "ãƒ­ãƒ“ãƒ¼ã¯æ”¹è£…å·¥äº‹ä¸­ã§ã™ã€‚" },
                { en: "Please fill out the application form.", ja: "ç”³è¾¼æ›¸ã«è¨˜å…¥ã—ã¦ãã ã•ã„ã€‚" },
                { en: "We are conducting a survey on customer satisfaction.", ja: "é¡§å®¢æº€è¶³åº¦ã«é–¢ã™ã‚‹èª¿æŸ»ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚" },
                { en: "The keynote speaker will arrive shortly.", ja: "åŸºèª¿è¬›æ¼”è€…ãŒé–“ã‚‚ãªãåˆ°ç€ã—ã¾ã™ã€‚" },
                { en: "Please keep your receipt for reimbursement.", ja: "æ‰•ã„æˆ»ã—ã®ãŸã‚ã«é ˜åæ›¸ã‚’ä¿ç®¡ã—ã¦ãã ã•ã„ã€‚" },
                { en: "The project was completed ahead of schedule.", ja: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯äºˆå®šã‚ˆã‚Šæ—©ãå®Œäº†ã—ã¾ã—ãŸã€‚" },
                { en: "We are currently hiring for several positions.", ja: "ç¾åœ¨ã€ã„ãã¤ã‹ã®è·ç¨®ã§æ¡ç”¨ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚" },
                { en: "Please read the instructions carefully.", ja: "èª¬æ˜æ›¸ã‚’ã‚ˆãèª­ã‚“ã§ãã ã•ã„ã€‚" },
                { en: "The office will be closed for the holiday.", ja: "ç¥æ—¥ã®ãŸã‚ã‚ªãƒ•ã‚£ã‚¹ã¯é–‰é–ã•ã‚Œã¾ã™ã€‚" },
                { en: "We need to address this issue immediately.", ja: "ã“ã®å•é¡Œã«ã™ãã«å¯¾å‡¦ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "The committee will review the proposals.", ja: "å§”å“¡ä¼šãŒææ¡ˆæ›¸ã‚’å¯©æŸ»ã—ã¾ã™ã€‚" },
                { en: "I would like to suggest an alternative plan.", ja: "ä»£æ›¿æ¡ˆã‚’ææ¡ˆã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚" },
                { en: "The equipment is under warranty.", ja: "ãã®è¨­å‚™ã¯ä¿è¨¼æœŸé–“å†…ã§ã™ã€‚" },
                { en: "Our sales have increased by twenty percent.", ja: "å½“ç¤¾ã®å£²ä¸Šã¯20ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆå¢—åŠ ã—ã¾ã—ãŸã€‚" },
                { en: "Please submit your expenses by the end of the month.", ja: "çµŒè²»ã¯æœˆæœ«ã¾ã§ã«æå‡ºã—ã¦ãã ã•ã„ã€‚" },
                { en: "The company was founded in nineteen ninety.", ja: "ãã®ä¼šç¤¾ã¯1990å¹´ã«è¨­ç«‹ã•ã‚Œã¾ã—ãŸã€‚" },
                { en: "I'm sorry, he is currently in a meeting.", ja: "ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ãŒã€å½¼ã¯ç¾åœ¨ä¼šè­°ä¸­ã§ã™ã€‚" },
                { en: "We need to update our software system.", ja: "ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚·ã‚¹ãƒ†ãƒ ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                { en: "The board of directors approved the budget.", ja: "å–ç· å½¹ä¼šãŒäºˆç®—ã‚’æ‰¿èªã—ã¾ã—ãŸã€‚" },
                { en: "Please let me know your availability.", ja: "ã”éƒ½åˆã®ã‚ˆã‚ã—ã„æ™‚é–“ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚" },
                { en: "We are dedicated to environmental sustainability.", ja: "å½“ç¤¾ã¯ç’°å¢ƒã®æŒç¶šå¯èƒ½æ€§ã«å°‚å¿µã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The shipment is expected to arrive tomorrow.", ja: "è·ç‰©ã¯æ˜æ—¥åˆ°ç€ã™ã‚‹äºˆå®šã§ã™ã€‚" },
                { en: "I'd like to make a formal complaint.", ja: "æ­£å¼ãªè‹¦æƒ…ã‚’ç”³ã—ç«‹ã¦ãŸã„ã¨æ€ã„ã¾ã™ã€‚" },
                { en: "The factory tour will last for two hours.", ja: "å·¥å ´è¦‹å­¦ã¯2æ™‚é–“è¡Œã‚ã‚Œã¾ã™ã€‚" },
                { en: "We have reached an agreement with the union.", ja: "çµ„åˆã¨åˆæ„ã«é”ã—ã¾ã—ãŸã€‚" },
                { en: "Please refer to the manual for troubleshooting.", ja: "æ•…éšœã‹ãªã¨æ€ã£ãŸã‚‰ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚" },
                { en: "The company is a leader in the tech industry.", ja: "ãã®ä¼šç¤¾ã¯ãƒ†ãƒƒã‚¯æ¥­ç•Œã®ãƒªãƒ¼ãƒ€ãƒ¼ã§ã™ã€‚" },
                { en: "I appreciate your patience during the delay.", ja: "é…å»¶ã®é–“ã€ãŠå¾…ã¡ã„ãŸã ãæ„Ÿè¬ã—ã¾ã™ã€‚" },
                { en: "We have to cancel the reservation.", ja: "äºˆç´„ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚" },
                { en: "The consultant provided valuable advice.", ja: "ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã¯è²´é‡ãªåŠ©è¨€ã‚’ãã‚Œã¾ã—ãŸã€‚" },
                { en: "Please park your car in the designated area.", ja: "æŒ‡å®šã•ã‚ŒãŸå ´æ‰€ã«è»Šã‚’åœã‚ã¦ãã ã•ã„ã€‚" },
                { en: "We are proud to sponsor this event.", ja: "ã“ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å¾Œæ´ã§ãã‚‹ã“ã¨ã‚’èª‡ã‚Šã«æ€ã„ã¾ã™ã€‚" },
                { en: "The store is having a grand opening sale.", ja: "ãã®åº—ã¯é–‹åº—è¨˜å¿µã‚»ãƒ¼ãƒ«ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚" },
                { en: "Please double check the figures in the spreadsheet.", ja: "ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æ•°å­—ã‚’å†ç¢ºèªã—ã¦ãã ã•ã„ã€‚" },
                { en: "We value your feedback on our performance.", ja: "ç§ãŸã¡ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¸ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚" },
                { en: "The security system requires a password.", ja: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ ã«ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚" },
                { en: "I'm responsible for coordinating the event.", ja: "ç§ã¯ã‚¤ãƒ™ãƒ³ãƒˆã®èª¿æ•´ã‚’æ‹…å½“ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The company offers a generous pension plan.", ja: "ãã®ä¼šç¤¾ã¯æ‰‹åšã„å¹´é‡‘åˆ¶åº¦ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "Please turn off all electronics during takeoff.", ja: "é›¢é™¸æ™‚ã¯ã™ã¹ã¦ã®é›»å­æ©Ÿå™¨ã®é›»æºã‚’åˆ‡ã£ã¦ãã ã•ã„ã€‚" },
                { en: "We are seeking a candidate with strong leadership skills.", ja: "å¼·ã„æŒ‡å°åŠ›ã‚’æŒã¤å€™è£œè€…ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã€‚" },
                { en: "The local economy is starting to improve.", ja: "åœ°åŸŸçµŒæ¸ˆãŒæ”¹å–„ã—å§‹ã‚ã¦ã„ã¾ã™ã€‚" },
                { en: "Please wait in the reception area.", ja: "å—ä»˜ã‚¨ãƒªã‚¢ã§ãŠå¾…ã¡ãã ã•ã„ã€‚" },
                { en: "We provide technical support twenty-four hours a day.", ja: "24æ™‚é–“ä½“åˆ¶ã§ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The job requires frequent travel overseas.", ja: "ãã®ä»•äº‹ã¯é »ç¹ãªæµ·å¤–å‡ºå¼µã‚’å¿…è¦ã¨ã—ã¾ã™ã€‚" },
                { en: "Please use the side entrance after six p.m.", ja: "åˆå¾Œ6æ™‚ä»¥é™ã¯æ¨ªã®å…¥ã‚Šå£ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚" },
                { en: "We are happy to announce our new partnership.", ja: "æ–°ã—ã„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºè¡¨ã§ãã¦å¬‰ã—ãæ€ã„ã¾ã™ã€‚" },
                { en: "The contract is subject to legal review.", ja: "å¥‘ç´„æ›¸ã¯æ³•çš„å¯©æŸ»ã®å¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚" },
                { en: "Please return the keys to the front desk.", ja: "éµã‚’ãƒ•ãƒ­ãƒ³ãƒˆãƒ‡ã‚¹ã‚¯ã«è¿”å´ã—ã¦ãã ã•ã„ã€‚" },
                { en: "We are focusing on improving efficiency.", ja: "ç§ãŸã¡ã¯åŠ¹ç‡ã®å‘ä¸Šã«æ³¨åŠ›ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The price includes tax and shipping.", ja: "ä¾¡æ ¼ã«ã¯ç¨é‡‘ã¨é€æ–™ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚" },
                { en: "Please do not hesitate to contact us.", ja: "ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚" },
                { en: "We aim to deliver the best customer experience.", ja: "æœ€é«˜ã®é¡§å®¢ä½“é¨“ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The meeting will take place via video conference.", ja: "ä¼šè­°ã¯ãƒ“ãƒ‡ã‚ªä¼šè­°ã‚’é€šã˜ã¦è¡Œã‚ã‚Œã¾ã™ã€‚" },
                { en: "Please keep your belongings with you at all times.", ja: "æ‰‹è·ç‰©ã¯å¸¸ã«èº«ã«ã¤ã‘ã¦ãŠã„ã¦ãã ã•ã„ã€‚" },
                { en: "We are launching a new product next month.", ja: "æ¥æœˆã€æ–°è£½å“ã‚’ç™ºå£²ã—ã¾ã™ã€‚" },
                { en: "The office is easily accessible by public transport.", ja: "ã‚ªãƒ•ã‚£ã‚¹ã¯å…¬å…±äº¤é€šæ©Ÿé–¢ã§ç°¡å˜ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚" },
                { en: "Please review the safety guidelines.", ja: "å®‰å…¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚" },
                { en: "We are dedicated to innovation and creativity.", ja: "é©æ–°ã¨å‰µé€ æ€§ã«å°‚å¿µã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The results were better than we anticipated.", ja: "çµæœã¯äºˆæƒ³ã—ã¦ã„ãŸã‚ˆã‚Šã‚‚è‰¯ã‹ã£ãŸã§ã™ã€‚" },
                { en: "Please follow the instructions on the screen.", ja: "ç”»é¢ä¸Šã®æŒ‡ç¤ºã«å¾“ã£ã¦ãã ã•ã„ã€‚" },
                { en: "We provide comprehensive insurance coverage.", ja: "å½“ç¤¾ã¯åŒ…æ‹¬çš„ãªä¿é™ºè£œå„Ÿã‚’æä¾›ã—ã¾ã™ã€‚" },
                { en: "The auditorium has a seating capacity of five hundred.", ja: "ãã®è¬›å ‚ã®åå®¹äººæ•°ã¯500äººã§ã™ã€‚" },
                { en: "Please note that the schedule is subject to change.", ja: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å¤‰æ›´ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã®ã§ã”æ³¨æ„ãã ã•ã„ã€‚" },
                { en: "We are looking for ways to expand our network.", ja: "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ‹¡å¤§ã™ã‚‹æ–¹æ³•ã‚’æ¢ã—ã¦ã„ã¾ã™ã€‚" },
                { en: "The presentation was very well received.", ja: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯éå¸¸ã«å¥½è©•ã§ã—ãŸã€‚" },
                { en: "Please sign up for the newsletter.", ja: "ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼ã«ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚" },
                { en: "We are committed to workplace diversity.", ja: "ç§ãŸã¡ã¯è·å ´ã®å¤šæ§˜æ€§ã«åŠªã‚ã¦ã„ã¾ã™ã€‚" },
                { en: "The project cost was within the budget.", ja: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè²»ç”¨ã¯äºˆç®—å†…ã§ã—ãŸã€‚" }
            ]
        };

        const ILLUSTS = {
            S: `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5 15l-3-7 7 2 3-7 3 7 7-2-3 7H5zm14 2H5v2h14v-2z" fill="#EAB308"/></svg>`,
            A: `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="8" fill="#94A3B8"/><path d="M12 7l1.5 3h3.5l-2.5 2 1 3.5-3.5-2-3.5 2 1-3.5-2.5-2h3.5L12 7z" fill="#F8FAFC"/></svg>`,
            B: `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="#3B82F6"/></svg>`,
            C: `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" fill="#94A3B8"/></svg>`
        };

        const audioManager = {
            ctx: new (window.AudioContext || window.webkitAudioContext)(),
            bgmNode: null,

            playPingPong() {
                this.beep(660, 0.1);
                setTimeout(() => this.beep(880, 0.2), 100);
            },

            playBuzz() {
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(120, this.ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(40, this.ctx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.1, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.3);
                osc.connect(gain); gain.connect(this.ctx.destination);
                osc.start(); osc.stop(this.ctx.currentTime + 0.3);
            },

            beep(freq, duration) {
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.type = 'sine';
                osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
                gain.gain.setValueAtTime(0.1, this.ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + duration);
                osc.connect(gain); gain.connect(this.ctx.destination);
                osc.start(); osc.stop(this.ctx.currentTime + duration);
            },

            speak(text, lang = 'en-US', callback = null) {
                window.speechSynthesis.cancel();
                const uttr = new SpeechSynthesisUtterance(text);
                uttr.lang = lang;
                uttr.rate = 0.85;
                if (callback) { uttr.onend = callback; }
                window.speechSynthesis.speak(uttr);
            },

            replaySentence() {
                if (game.status === 'playing') {
                    this.speak(game.selectedQuestions[game.currentIndex].en, 'en-US');
                }
            },

            startResultBGM(type) {
                if (this.bgmNode) { try { this.bgmNode.stop(); } catch(e) {} }
                const now = this.ctx.currentTime;
                
                const playChord = (freqs, startTime, duration, vol = 0.1) => {
                    freqs.forEach(f => {
                        const osc = this.ctx.createOscillator();
                        const gain = this.ctx.createGain();
                        osc.type = (type === 'happy') ? 'triangle' : 'sine';
                        osc.frequency.setValueAtTime(f, startTime);
                        gain.gain.setValueAtTime(0, startTime);
                        gain.gain.linearRampToValueAtTime(vol, startTime + 0.05);
                        gain.gain.exponentialRampToValueAtTime(0.001, startTime + duration);
                        osc.connect(gain); gain.connect(this.ctx.destination);
                        osc.start(startTime); osc.stop(startTime + duration);
                    });
                };

                const playKick = (startTime) => {
                    const osc = this.ctx.createOscillator();
                    const gain = this.ctx.createGain();
                    osc.frequency.setValueAtTime(150, startTime);
                    osc.frequency.exponentialRampToValueAtTime(0.01, startTime + 0.1);
                    gain.gain.setValueAtTime(0.2, startTime);
                    gain.gain.exponentialRampToValueAtTime(0.001, startTime + 0.1);
                    osc.connect(gain); gain.connect(this.ctx.destination);
                    osc.start(startTime); osc.stop(startTime + 0.1);
                };

                if (type === 'happy') {
                    const tempo = 0.15;
                    const root = 523.25;
                    [0, 4, 7, 12, 16, 19, 24].forEach((n, i) => {
                        const f = root * Math.pow(2, n/12);
                        playChord([f], now + i * tempo, 0.8, 0.08);
                        if (i % 2 === 0) playKick(now + i * tempo);
                    });
                } else {
                    const tempo = 0.4;
                    const root = 392.00;
                    [0, -3, -5, -7].forEach((n, i) => {
                        const f = root * Math.pow(2, n/12);
                        playChord([f, f*0.75], now + i * tempo, 1.2, 0.06);
                    });
                }
            }
        };

        const game = {
            status: 'start',
            currentIndex: 0,
            mistakes: 0,
            hintsUsed: 0,
            selectedQuestions: [],
            currentSentenceData: [],
            currentLevel: '',
            questionMistakes: [0, 0, 0, 0, 0], 
            questionHints: [0, 0, 0, 0, 0],    

            init() {
                this.status = 'start';
                this.currentIndex = 0;
                this.mistakes = 0;
                this.hintsUsed = 0;
                this.questionMistakes = [0, 0, 0, 0, 0];
                this.questionHints = [0, 0, 0, 0, 0];
                this.showScreen('screenStart');
                document.getElementById('translationDisplay').style.opacity = '0';
                document.getElementById('rankLabel').classList.remove('rank-bounce');
            },

            start(level) {
                this.currentLevel = level;
                this.currentIndex = 0;
                this.mistakes = 0;
                this.hintsUsed = 0;
                this.questionMistakes = [0, 0, 0, 0, 0];
                this.questionHints = [0, 0, 0, 0, 0];
                
                const pool = MASTER_DATA[level];
                this.selectedQuestions = [...pool]
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 5);
                
                this.status = 'playing';
                this.updateUIForLevel();
                this.loadQuestion();
                this.showScreen('screenPlay');
                document.getElementById('hiddenInput').focus();
            },

            updateUIForLevel() {
                const badge = document.getElementById('levelBadge');
                if (this.currentLevel === 'junior') {
                    badge.innerText = 'ä¸­å­¦ç”Ÿãƒ¬ãƒ™ãƒ«';
                    badge.className = 'text-[10px] font-bold px-2 py-0.5 rounded-full bg-green-100 text-green-600 w-fit mb-1';
                } else if (this.currentLevel === 'senior') {
                    badge.innerText = 'é«˜æ ¡ç”Ÿãƒ¬ãƒ™ãƒ«';
                    badge.className = 'text-[10px] font-bold px-2 py-0.5 rounded-full bg-orange-100 text-orange-600 w-fit mb-1';
                } else {
                    badge.innerText = 'TOEICå¯¾ç­–';
                    badge.className = 'text-[10px] font-bold px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-600 w-fit mb-1';
                }
            },

            loadQuestion() {
                const q = this.selectedQuestions[this.currentIndex];
                const sentence = q.en;
                this.currentSentenceData = [];
                
                const transArea = document.getElementById('translationDisplay');
                transArea.style.opacity = '0';
                transArea.innerText = q.ja;

                let isWordStart = true;
                for (let i = 0; i < sentence.length; i++) {
                    const char = sentence[i];
                    const isAlphabet = /[a-z]/i.test(char);
                    
                    if (isAlphabet) {
                        if (isWordStart) {
                            this.currentSentenceData.push({ char, isTarget: false, state: 'correct' });
                            isWordStart = false;
                        } else {
                            this.currentSentenceData.push({ char, isTarget: true, state: 'hidden' });
                        }
                    } else {
                        this.currentSentenceData.push({ char, isTarget: false, state: 'correct' });
                        if (char === ' ') isWordStart = true;
                    }
                }

                this.render();
                document.getElementById('progressText').innerText = `${this.currentIndex + 1} / 5`;
                setTimeout(() => audioManager.speak(sentence, 'en-US'), 500);
            },

            render() {
                const container = document.getElementById('sentenceDisplay');
                container.innerHTML = '';
                const nextTargetIdx = this.currentSentenceData.findIndex(d => d.isTarget && d.state === 'hidden');

                let currentWordWrapper = document.createElement('span');
                currentWordWrapper.className = 'word-wrapper';
                container.appendChild(currentWordWrapper);

                this.currentSentenceData.forEach((item, idx) => {
                    if (item.char === ' ') {
                        currentWordWrapper = document.createElement('span');
                        currentWordWrapper.className = 'word-wrapper';
                        container.appendChild(currentWordWrapper);
                        return;
                    }

                    const span = document.createElement('span');
                    span.className = 'char-slot';
                    
                    if (item.isTarget) {
                        if (item.state === 'hidden') {
                            span.innerText = ''; 
                            span.classList.add('char-masked');
                            if (idx === nextTargetIdx) span.classList.add('cursor');
                        } else {
                            span.innerText = item.char;
                            span.classList.add(item.state === 'correct' ? 'char-correct' : 'char-hint');
                        }
                    } else {
                        span.innerText = item.char;
                        span.classList.add('char-static');
                    }
                    currentWordWrapper.appendChild(span);
                });
            },

            handleInput(key) {
                if (this.status !== 'playing') return;
                const nextTargetIdx = this.currentSentenceData.findIndex(d => d.isTarget && d.state === 'hidden');
                if (nextTargetIdx === -1) return;

                const targetChar = this.currentSentenceData[nextTargetIdx].char;
                const lowerKey = key.toLowerCase();
                const lowerTarget = targetChar.toLowerCase();

                if (lowerKey === lowerTarget) {
                    this.currentSentenceData[nextTargetIdx].state = 'correct';
                    this.render();
                    this.checkCompletion();
                } else {
                    if (nextTargetIdx > 0) {
                        const prevChar = this.currentSentenceData[nextTargetIdx - 1].char;
                        if (lowerKey === prevChar.toLowerCase()) {
                            return; 
                        }
                    }
                    
                    this.mistakes++;
                    this.questionMistakes[this.currentIndex]++;
                    audioManager.playBuzz();
                }
            },

            useHint() {
                if (this.status !== 'playing') return;
                const nextTargetIdx = this.currentSentenceData.findIndex(d => d.isTarget && d.state === 'hidden');
                if (nextTargetIdx === -1) return;
                this.hintsUsed++;
                this.questionHints[this.currentIndex]++; 
                this.currentSentenceData[nextTargetIdx].state = 'hint';
                this.render();
                this.checkCompletion();
            },

            checkCompletion() {
                const isFinished = this.currentSentenceData.every(d => !d.isTarget || d.state !== 'hidden');
                if (isFinished) {
                    this.status = 'cleared';
                    audioManager.playPingPong();
                    this.showClearEffect();
                    
                    const transArea = document.getElementById('translationDisplay');
                    transArea.style.opacity = '1';
                    transArea.classList.remove('translate-y-2');
                    transArea.classList.add('translate-y-0');

                    setTimeout(() => {
                        this.nextQuestion();
                    }, 2000);
                }
            },

            nextQuestion() {
                this.currentIndex++;
                if (this.currentIndex < 5) {
                    this.status = 'playing';
                    this.loadQuestion();
                } else {
                    this.finishGame();
                }
            },

            showClearEffect() {
                const overlay = document.getElementById('successOverlay');
                overlay.classList.add('show-overlay');
                setTimeout(() => overlay.classList.remove('show-overlay'), 1000);
            },

            finishGame() {
                this.status = 'result';
                const score = Math.max(0, 100 - (this.mistakes * 2) - (this.hintsUsed * 5));
                
                let rank = 'C';
                let message = 'ã‚‚ã†å°‘ã—é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼';
                let bgmType = 'sad';
                let colorClass = 'text-gray-400';

                if (score >= 90) {
                    rank = 'S';
                    message = 'Excellent! å®Œç’§ã§ã™ï¼';
                    bgmType = 'happy';
                    colorClass = 'text-yellow-500';
                    document.getElementById('rankLabel').classList.add('rank-bounce');
                } else if (score >= 70) {
                    rank = 'A';
                    message = 'Great! ã‹ãªã‚Šèãå–ã‚Œã¦ã„ã¾ã™ï¼';
                    bgmType = 'happy';
                    colorClass = 'text-green-500';
                } else if (score >= 50) {
                    rank = 'B';
                    message = 'Good! ã‚ã¨å°‘ã—ã§å®Œç’§ã§ã™ã€‚';
                    bgmType = 'sad';
                    colorClass = 'text-blue-500';
                }

                const label = document.getElementById('rankLabel');
                label.innerText = `${rank}ãƒ©ãƒ³ã‚¯`;
                label.className = `font-black italic tracking-tighter transition-all duration-500 ${colorClass} text-6xl`;
                if (rank === 'S') label.classList.add('rank-bounce');
                
                document.getElementById('rankIllustration').innerHTML = ILLUSTS[rank];
                document.getElementById('rankMessage').innerText = message;
                document.getElementById('statMiss').innerText = `${this.mistakes} å›`;
                document.getElementById('statHint').innerText = `${this.hintsUsed} å›`;
                document.getElementById('statScore').innerText = score;
                
                this.showScreen('screenResult');
                audioManager.startResultBGM(bgmType);
            },

            showReview() {
                const list = document.getElementById('reviewList');
                list.innerHTML = '';
                this.selectedQuestions.forEach((q, i) => {
                    const mCount = this.questionMistakes[i];
                    const hCount = this.questionHints[i];
                    const item = document.createElement('div');
                    item.className = 'bg-slate-50 border border-slate-200 p-4 rounded-xl flex justify-between items-center group';
                    
                    const mistakeColor = mCount > 0 ? 'text-red-500 border-red-100' : 'text-green-500 border-green-100';
                    const hintColor = hCount > 0 ? 'text-red-500 border-red-100' : 'text-slate-400 border-slate-100';

                    item.innerHTML = `
                        <div class="flex-grow">
                            <div class="flex flex-wrap items-center gap-2 mb-1">
                                <span class="text-[10px] text-white bg-slate-400 px-1.5 py-0.5 rounded font-bold uppercase">Q${i + 1}</span>
                                <span class="text-[10px] font-bold ${mistakeColor} bg-white border px-2 py-0.5 rounded-full shadow-sm">ãƒŸã‚¹: ${mCount}å›</span>
                                <span class="text-[10px] font-bold ${hintColor} bg-white border px-2 py-0.5 rounded-full shadow-sm">ãƒ’ãƒ³ãƒˆ: ${hCount}å›</span>
                            </div>
                            <div class="text-lg font-bold text-gray-800 leading-tight mb-1">${q.en}</div>
                            <div class="text-sm text-blue-500 font-bold">${q.ja}</div>
                        </div>
                        <button onclick="audioManager.speak('${q.en.replace(/'/g, "\\'")}', 'en-US')" class="ml-4 p-2 bg-white border border-slate-200 rounded-full hover:bg-blue-50 hover:border-blue-200 transition text-blue-500 shadow-sm self-start mt-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H3a1 1 0 01-1-1V8a1 1 0 011-1h1.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.983 5.983 0 01-1.414 4.243 1 1 0 11-1.415-1.415A3.983 3.983 0 0013 10a3.983 3.983 0 00-1.071-2.757 1 1 0 010-1.415z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    `;
                    list.appendChild(item);
                });
                this.showScreen('screenReview');
            },

            showScreen(id) {
                ['screenStart', 'screenPlay', 'screenResult', 'screenReview'].forEach(s => {
                    document.getElementById(s).classList.add('hidden');
                });
                document.getElementById(id).classList.remove('hidden');
            }
        };

        window.addEventListener('keydown', (e) => {
            if (e.key.length === 1 && /[a-zA-Z]/.test(e.key)) game.handleInput(e.key);
        });
        document.addEventListener('click', () => { if (game.status === 'playing') document.getElementById('hiddenInput').focus(); });
        window.onload = () => game.init();
    </script>
</body>
</html>